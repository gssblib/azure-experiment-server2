<mat-card>
  <div class="containerX">
    <div [fxFlex]="grow">
      <gsl-multi-field-search-bar
         [criteria]="criteria" [fields]="getSearchFields()" (search)="onSearch($event)">
      </gsl-multi-field-search-bar>
    </div>
    <div class="add">
      <a mat-fab style="float: right" routerLink="add">
        <mat-icon>add</mat-icon>
      </a>
    </div>
  </div>
  <div *ngIf="result">
    <td-data-table *ngIf="result"
                   [data]="result.rows"
                   [columns]="columns"
                   [sortable]="true"
                   [sortBy]="sortKey.name"
                   [sortOrder]="sortKey.order"
                   (sortChange)="onSort($event)">
      <ng-template tdDataTableTemplate="barcode" let-value="value">
        <a [routerLink]="value+'/details'">{{value}}</a>
      </ng-template>
      <ng-template tdDataTableTemplate="status" let-value="value">
        <gsl-item-status [status]="ItemState[value]" size="normal"></gsl-item-status>
      </ng-template>
      <ng-template tdDataTableTemplate="title" let-row="row" let-value="value">
        <a [routerLink]="row.barcode+'/details'">{{value}}</a>
        <gsl-item-antolin [antolin]="row.antolin"></gsl-item-antolin>
      </ng-template>
      <ng-template tdDataTableTemplate="author" let-row="row" let-value="value">
        <a routerLink="/items" [queryParams]="{author: value}">{{value}}</a>
      </ng-template>
    </td-data-table>
    <td-paging-bar #pagingBar (change)="onPage($event)"
                   [initialPage]="page"
                   [pageSize]="pageSize"
                   [total]="result.count">
      <span class="label" td-paging-bar-label hide-xs>Rows per page: </span>
      <span>Items {{pagingBar.range}}</span>
      <span hide-xs> of {{pagingBar.total}}</span>
    </td-paging-bar>
  </div>
</mat-card>

